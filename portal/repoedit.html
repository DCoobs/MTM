<header>
  <h1 class="text-center">Repository Management</h1>
</header>

<div ng-show="lastresults">
  <h3>Previous Action Results: {{errortext}}</h3>
  <p>{{resulttext}}</p>
</div>

<input type="submit" value="Return to list" ng-click="fulllist()"/>

<div ng-show="goodresults">
  <h3>Repository</h3>
  <div class="container">
    <div class="row">
      <div class="col-xs-2 col-md-2" align="right">Repository Name</div>
      <div class="col-xs-2 col-md-2">{{repository.name}}</div>
    </div>
    <div class="row">
      <div class="col-xs-2 col-md-2" align="right">Full Path</div>
      <div class="col-xs-2 col-md-2">{{repository.fullpath}}</div>
    </div>
    <div class="row">
      <div class="col-xs-2 col-md-2" align="right">File Prefix</div>
      <div class="col-xs-10 col-md-10"><input ng-model="repository_fileprefix" name="update_fileprefix" size="30" /><input type="submit" value="Update Prefix" ng-click="update_fileprefix()"/></div>
    </div>
    <div class="row">
      <div class="col-xs-2 col-md-2" align="right">Description</div>
      <div class="col-xs-4 col-md-10"><textarea rows="4" cols="30" ng-model="repository_description"></textarea><input type="submit" value="Update Description" ng-click="update_description()"/></div>
    </div>
  </div>
</div>

<div ng-show="goodpermresults">
  <h3>UserGroups with permissions</h3>
  <table st-table="displaygroupperms"
	 st-safe-src="groupperms"
	 class="table table-striped table-hover">
    <thead>
      <th st-sort="name" st-skip-natural="true">Name</th>
      <th>Portal Permissions</th>
      <th>Repository Permissions</th>
    </thead>
    <tbody>
      <tr dir-paginate="row in displaygroupperms |itemsPerPage: 10">
	<td><a ng-click="setedit_usergroup(row.usergroup_id)">{{row.usergroup_name}}</a></td>
	<td><a ng-click="setedit_usergroupperms(row.usergroup_id)">{{row.portal_permission}}</a></td>
	<td><a ng-click="setedit_usergroupperms(row.usergroup_id)">{{row.repository_permission}}</a></td>
      </tr>
    </tbody>
  </table>
  <dir-pagination-controls boundary-links="true" template-url="components/dirPagination.tpl.html"></dir-pagination-controls>
</div>
</body>
</html>
