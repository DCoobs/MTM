<div class="row" style="padding-top:3px;">
    <div class="col-xs-8">
        <a ng-click="fulllist()"/>&larr; Back to Repository List</a>
    </div>
    <div class="col-xs-4">
        <div class="pull-right">
            <a href="/Portal/api/v1/logout"><strong>LOG OUT</strong></a>
        </div>
    </div>
</div>

<div class="app-section-lead app-margtop20">
    <h1>Repository Management</h1>
</div>

<div ng-show="lastresults">
    <h3>Previous Action Results: {{errortext}}</h3>
    <p>{{resulttext}}</p>
</div>

<!--<input type="submit" value="Return to list" ng-click="fulllist()"/>-->

<div ng-show="goodresults">
    <div class="row app-margbot10">
        <div class="col-sm-3">Repository Name</div>
        <div class="col-sm-9">{{repository.name}}</div>
    </div>
    <div class="row app-margbot10">
        <div class="col-sm-3">Full Path</div>
        <div class="col-sm-9">{{repository.fullpath}}</div>
    </div>
    <div class="row app-margbot10">
        <div class="col-sm-3">File Prefix</div>
        <div class="col-sm-9">
            <input ng-model="repository_fileprefix" name="update_fileprefix" size="30" style="margin-bottom:4px;"/><br/>
            <input class="btn btn-primary btn-xs" type="submit" value="Update Prefix" ng-click="update_fileprefix()"/>
        </div>
    </div>
    <div class="row app-margbot10">
        <div class="col-sm-3">Description</div>
        <div class="col-sm-9">
            <textarea rows="4" cols="30" ng-model="repository_description"></textarea><br/>
            <input class="btn btn-primary btn-xs" type="submit" value="Update Description" ng-click="update_description()"/>
        </div>
    </div>
</div>
<hr/>

<div ng-show="goodpermresults">
    <div class="app-section-lead" style="margin-bottom:3px;">
        <h2>UserGroups with permissions</h2>
    </div>
    <table st-table="displaygroupperms"
           st-safe-src="groupperms"
           class="table table-striped table-hover">
        <thead>
        <th st-sort="name" st-skip-natural="true">Name</th>
        <th>Portal Permissions</th>
        <th>Repository Permissions</th>
        </thead>
        <tbody>
            <tr dir-paginate="row in displaygroupperms |itemsPerPage: 10">
                <td><a ng-click="setedit_usergroup(row.usergroup_id)">{{row.usergroup_name}}</a></td>
                <td><a ng-click="setedit_usergroupperms(row.usergroup_id)">{{row.portal_permission}}</a></td>
                <td><a ng-click="setedit_usergroupperms(row.usergroup_id)">{{row.repository_permission}}</a></td>
            </tr>
        </tbody>
    </table>
    <dir-pagination-controls boundary-links="true" template-url="components/dirPagination.tpl.html"></dir-pagination-controls>
</div>
